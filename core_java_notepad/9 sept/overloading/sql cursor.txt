create procedure proc_with_cur(addr varchar(20))
begin
declare id,sal int;
declare id ,sal int;
declare is_finished int default 0;
cursor declare 
declare update_cur cursor for select eid,income from employees where 
address = addr;
declare contineous handler for not found 
set is finished = 1;
open update_cur;
myloop : loop 
featch update_cur into id ,sal;
if (is_finished = 1)then 
leave myloop;
end if;
if (sal>25000) then update employee set income = income *1.1 where eid =id;
else 
update employee set income = income * 1.2 where eid =id ;
end if;
end loop myloop
close update_cur;
end